<html xmlns:cf="http://docbook.sourceforge.net/xmlns/chunkfast/1.0">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Drag and Drop</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.0">
<link rel="start" href="index.html" title="GTK+ Reference Manual">
<link rel="up" href="gtkbase.html" title="Part&#160;2.&#160;GTK+ Core Reference">
<link rel="prev" href="gtk-Clipboards.html" title="Clipboards">
<link rel="next" href="GtkIconTheme.html" title="GtkIconTheme">
<meta name="generator" content="GTK-Doc V1.3 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="gtk.html" title="Part&#160;1.&#160;GTK+ Overview">
<link rel="part" href="gtkbase.html" title="Part&#160;2.&#160;GTK+ Core Reference">
<link rel="part" href="gtkobjects.html" title="Part&#160;3.&#160;GTK+ Widgets and Objects">
<link rel="chapter" href="ch01.html" title="Object Hierarchy">
<link rel="chapter" href="ch02.html" title="Widget Gallery">
<link rel="chapter" href="WindowWidgets.html" title="Windows">
<link rel="chapter" href="DisplayWidgets.html" title="Display Widgets">
<link rel="chapter" href="ButtonWidgets.html" title="Buttons and Toggles">
<link rel="chapter" href="NumericEntry.html" title="Numeric/Text Data Entry">
<link rel="chapter" href="TextWidgetObjects.html" title="Multiline Text Editor">
<link rel="chapter" href="TreeWidgetObjects.html" title="Tree, List and Icon Grid Widgets">
<link rel="chapter" href="MenusAndCombos.html" title="Menus, Combo Box, Toolbar">
<link rel="chapter" href="Actions.html" title="Action-based menus and toolbars">
<link rel="chapter" href="SelectorWidgets.html" title="Selectors (File/Font/Color/Input Devices)">
<link rel="chapter" href="LayoutContainers.html" title="Layout Containers">
<link rel="chapter" href="Ornaments.html" title="Ornaments">
<link rel="chapter" href="ScrollingWidgets.html" title="Scrolling">
<link rel="chapter" href="MiscObjects.html" title="Miscellaneous">
<link rel="chapter" href="AbstractObjects.html" title="Abstract Base Classes">
<link rel="chapter" href="PlugSocket.html" title="Cross-process Embedding">
<link rel="chapter" href="SpecialObjects.html" title="Special-purpose features">
<link rel="chapter" href="DeprecatedObjects.html" title="Deprecated">
<link rel="part" href="migrating.html" title="Part&#160;4.&#160;Migrating from Previous Versions of GTK+">
<link rel="chapter" href="gtk-migrating-checklist.html" title="Migration Checklist">
<link rel="chapter" href="gtk-migrating-GtkFileChooser.html" title="Migrating from GtkFileSelection to GtkFileChooser">
<link rel="chapter" href="gtk-migrating-GtkAction.html" title="Migrating from old menu and toolbar systems to GtkAction">
<link rel="chapter" href="gtk-migrating-GtkComboBox.html" title="Migrating from GtkOptionMenu and GtkCombo to GtkComboBox and GtkComboBoxEntry">
<link rel="chapter" href="gtk-migrating-GtkIconView.html" title="Migrating from GnomeIconList to GtkIconView">
<link rel="chapter" href="gtk-migrating-GtkAboutDialog.html" title="Migrating from GnomeAbout to GtkAboutDialog">
<link rel="chapter" href="gtk-migrating-GtkColorButton.html" title="Migrating from GnomeColorPicker to GtkColorButton">
<link rel="part" href="pt05.html" title="Part&#160;5.&#160;GTK+ Tools">
<link rel="glossary" href="glossary.html" title="Glossary">
<link rel="index" href="ix01.html" title="Index">
<link rel="index" href="ix02.html" title="Index of deprecated symbols">
<link rel="index" href="ix03.html" title="Index of new symbols in 2.2">
<link rel="index" href="ix04.html" title="Index of new symbols in 2.4">
<link rel="index" href="ix05.html" title="Index of new symbols in 2.6">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2"><tr valign="middle">
<td><a accesskey="p" href="gtk-Clipboards.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="gtkbase.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GTK+ Reference Manual</th>
<td><a accesskey="n" href="GtkIconTheme.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr></table>
<div class="refentry" lang="en">
<a name="gtk-Drag-and-Drop"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle">Drag and Drop</span></h2>
<p>Drag and Drop &#8212; Functions for controlling drag and drop handling</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">

#include &lt;gtk/gtk.h&gt;


enum        <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a>;
enum        <a href="gtk-Drag-and-Drop.html#GtkTargetFlags">GtkTargetFlags</a>;

void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set">gtk_drag_dest_set</a>               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a> flags,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             gint n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-proxy">gtk_drag_dest_set_proxy</a>         (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkWindow"
>GdkWindow</a> *proxy_window,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragProtocol"
>GdkDragProtocol</a> protocol,
                                             gboolean use_coordinates);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-unset">gtk_drag_dest_unset</a>             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
<a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a>     <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-find-target">gtk_drag_dest_find_target</a>       (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
<a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-get-target-list">gtk_drag_dest_get_target_list</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-target-list">gtk_drag_dest_set_target_list</a>   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-add-text-targets">gtk_drag_dest_add_text_targets</a>  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-add-image-targets">gtk_drag_dest_add_image_targets</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-add-uri-targets">gtk_drag_dest_add_uri_targets</a>   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-finish">gtk_drag_finish</a>                 (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             gboolean success,
                                             gboolean del,
                                             guint32 time_);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data">gtk_drag_get_data</a>               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a> target,
                                             guint32 time_);
<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  <a href="gtk-Drag-and-Drop.html#gtk-drag-get-source-widget">gtk_drag_get_source_widget</a>      (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-highlight">gtk_drag_highlight</a>              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-unhighlight">gtk_drag_unhighlight</a>            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);

<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-begin">gtk_drag_begin</a>              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions,
                                             gint button,
                                             <a
href="../gdk/gdk-Event-Structures.html#GdkEvent"
>GdkEvent</a> *event);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-widget">gtk_drag_set_icon_widget</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             gint hot_x,
                                             gint hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixmap">gtk_drag_set_icon_pixmap</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             gint hot_x,
                                             gint hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixbuf">gtk_drag_set_icon_pixbuf</a>        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf,
                                             gint hot_x,
                                             gint hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-stock">gtk_drag_set_icon_stock</a>         (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             const gchar *stock_id,
                                             gint hot_x,
                                             gint hot_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-default">gtk_drag_set_icon_default</a>       (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-set-default-icon">gtk_drag_set_default_icon</a>       (<a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             gint hot_x,
                                             gint hot_y);
gboolean    <a href="gtk-Drag-and-Drop.html#gtk-drag-check-threshold">gtk_drag_check_threshold</a>        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             gint start_x,
                                             gint start_y,
                                             gint current_x,
                                             gint current_y);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set">gtk_drag_source_set</a>             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkModifierType"
>GdkModifierType</a> start_button_mask,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             gint n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon">gtk_drag_source_set_icon</a>        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-pixbuf">gtk_drag_source_set_icon_pixbuf</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-stock">gtk_drag_source_set_icon_stock</a>  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             const gchar *stock_id);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-unset">gtk_drag_source_unset</a>           (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-target-list">gtk_drag_source_set_target_list</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);
<a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* <a href="gtk-Drag-and-Drop.html#gtk-drag-source-get-target-list">gtk_drag_source_get_target_list</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-add-text-targets">gtk_drag_source_add_text_targets</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-add-image-targets">gtk_drag_source_add_image_targets</a>
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
void        <a href="gtk-Drag-and-Drop.html#gtk-drag-source-add-uri-targets">gtk_drag_source_add_uri_targets</a> (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id3039124"></a><h2>Description</h2>
<p>
GTK+ has a rich set of functions for doing inter-process
communication via the drag-and-drop metaphor. GTK+
can do drag-and-drop (DND) via multiple protocols.
The currently supported protocols are the Xdnd and
Motif protocols.

As well as the functions listed here, applications
may need to use some facilities provided for
<a href="gtk-Selections.html" title="Selections">Selections</a>.
Also, the Drag and Drop API makes use of signals
in the <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> class.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id3039157"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id3039162"></a><h3>
<a name="GtkDestDefaults"></a>enum GtkDestDefaults</h3>
<a class="indexterm" name="id3039174"></a><pre class="programlisting">typedef enum {
  GTK_DEST_DEFAULT_MOTION     = 1 &lt;&lt; 0, /* respond to "drag_motion" */
  GTK_DEST_DEFAULT_HIGHLIGHT  = 1 &lt;&lt; 1, /* auto-highlight */
  GTK_DEST_DEFAULT_DROP       = 1 &lt;&lt; 2, /* respond to "drag_drop" */
  GTK_DEST_DEFAULT_ALL        = 0x07
} GtkDestDefaults;
</pre>
<p>
The <a href="gtk-Drag-and-Drop.html#GtkDestDefaults"><span class="type">GtkDestDefaults</span></a> enumeration specifies the various
types of action that will be taken on behalf
of the user for a drag destination site.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><code class="literal">GTK_DEST_DEFAULT_MOTION</code></span></td>
<td>
   If set for a widget, GTK+, during a drag over this
   widget will check if the drag matches this widget's
   list of possible targets and actions.
   GTK+ will then call <a
href="../gdk/gdk-Drag-and-Drop.html#gdk-drag-status"
><code class="function">gdk_drag_status()</code></a> as appropriate.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GTK_DEST_DEFAULT_HIGHLIGHT</code></span></td>
<td>
   If set for a widget, GTK+ will draw a highlight on
   this widget as long as a drag is over this widget
   and the widget drag format and action are acceptable.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GTK_DEST_DEFAULT_DROP</code></span></td>
<td>
   If set for a widget, when a drop occurs, GTK+ will
   will check if the drag matches this widget's
   list of possible targets and actions. If so, 
   GTK+ will call <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data"><code class="function">gtk_drag_get_data()</code></a> on behalf 
   of the widget. Whether or not the drop is successful,
   GTK+ will call <a href="gtk-Drag-and-Drop.html#gtk-drag-finish"><code class="function">gtk_drag_finish()</code></a>. If the action
   was a move, then if the drag was successful, then
   <code class="literal">TRUE</code> will be passed for the <em class="parameter"><code>delete</code></em> parameter
   to <a href="gtk-Drag-and-Drop.html#gtk-drag-finish"><code class="function">gtk_drag_finish()</code></a>.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GTK_DEST_DEFAULT_ALL</code></span></td>
<td>
   If set, specifies that all default actions should
   be taken.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3039336"></a><h3>
<a name="GtkTargetFlags"></a>enum GtkTargetFlags</h3>
<a class="indexterm" name="id3039346"></a><pre class="programlisting">typedef enum {
  GTK_TARGET_SAME_APP = 1 &lt;&lt; 0,    /*&lt; nick=same-app &gt;*/
  GTK_TARGET_SAME_WIDGET = 1 &lt;&lt; 1  /*&lt; nick=same-widget &gt;*/
} GtkTargetFlags;
</pre>
<p>
The <a href="gtk-Drag-and-Drop.html#GtkTargetFlags"><span class="type">GtkTargetFlags</span></a> enumeration is used to specify
constraints on an entry in a <span class="type">GtkTargetTable</span>. 
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><code class="literal">GTK_TARGET_SAME_APP</code></span></td>
<td>
   If this is set, the target will only be selected
   for drags within a single application.
</td>
</tr>
<tr>
<td>
<span class="term"><code class="literal">GTK_TARGET_SAME_WIDGET</code></span></td>
<td>
   If this is set, the target will only be selected
   for drags within a single widget.

</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3039420"></a><h3>
<a name="gtk-drag-dest-set"></a>gtk_drag_dest_set ()</h3>
<a class="indexterm" name="id3039431"></a><pre class="programlisting">void        gtk_drag_dest_set               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Drag-and-Drop.html#GtkDestDefaults">GtkDestDefaults</a> flags,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             gint n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);</pre>
<p>
Sets a widget as a potential drop destination.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>flags</code></em>&#160;:</span></td>
<td>the flags that specify what actions GTK+ should take
 on behalf of a widget for drops onto that widget. The <em class="parameter"><code>targets</code></em>
 and <em class="parameter"><code>actions</code></em> fields only are used if <code class="literal">GTK_DEST_DEFAULT_MOTION</code>
 or <code class="literal">GTK_DEST_DEFAULT_DROP</code> are given.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>targets</code></em>&#160;:</span></td>
<td>a pointer to an array of <a href="gtk-Selections.html#GtkTargetEntry"><span class="type">GtkTargetEntry</span></a>s indicating
 the drop types that this widget will accept.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>n_targets</code></em>&#160;:</span></td>
<td>the number of entries in <em class="parameter"><code>targets</code></em>.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>actions</code></em>&#160;:</span></td>
<td>a bitmask of possible actions for a drop onto this
 widget.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3039616"></a><h3>
<a name="gtk-drag-dest-set-proxy"></a>gtk_drag_dest_set_proxy ()</h3>
<a class="indexterm" name="id3039627"></a><pre class="programlisting">void        gtk_drag_dest_set_proxy         (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkWindow"
>GdkWindow</a> *proxy_window,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragProtocol"
>GdkDragProtocol</a> protocol,
                                             gboolean use_coordinates);</pre>
<p>
Sets this widget as a proxy for drops to another window.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>proxy_window</code></em>&#160;:</span></td>
<td>the window to which to forward drag events
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>protocol</code></em>&#160;:</span></td>
<td>the drag protocol which the <em class="parameter"><code>proxy_window</code></em> accepts
           (You can use <a
href="../gdk/gdk-Drag-and-Drop.html#gdk-drag-get-protocol"
><code class="function">gdk_drag_get_protocol()</code></a> to determine this)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>use_coordinates</code></em>&#160;:</span></td>
<td>If <code class="literal">TRUE</code>, send the same coordinates to the
                  destination, because it is an embedded 
                  subwindow.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3039775"></a><h3>
<a name="gtk-drag-dest-unset"></a>gtk_drag_dest_unset ()</h3>
<a class="indexterm" name="id3039786"></a><pre class="programlisting">void        gtk_drag_dest_unset             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Clears information about a drop destination set with
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set"><code class="function">gtk_drag_dest_set()</code></a>. The widget will no longer receive
notification of drags.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3039851"></a><h3>
<a name="gtk-drag-dest-find-target"></a>gtk_drag_dest_find_target ()</h3>
<a class="indexterm" name="id3039863"></a><pre class="programlisting"><a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a>     gtk_drag_dest_find_target       (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre>
<p>
Looks for a match between <em class="parameter"><code>context-&gt;targets</code></em> and the
<em class="parameter"><code>dest_target_list</code></em>, returning the first matching target, otherwise
returning <code class="literal">GDK_NONE</code>. <em class="parameter"><code>dest_target_list</code></em> should usually be the return
value from <a href="gtk-Drag-and-Drop.html#gtk-drag-dest-get-target-list"><code class="function">gtk_drag_dest_get_target_list()</code></a>, but some widgets may
have different valid targets for different parts of the widget; in
that case, they will have to implement a drag_motion handler that
passes the correct target list to this function.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> drag destination widget
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> drag context
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>target_list</code></em>&#160;:</span></td>
<td> list of droppable targets, or <code class="literal">NULL</code> to use
   gtk_drag_dest_get_target_list (<em class="parameter"><code>widget</code></em>).
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> first target that the source offers and the dest can accept, or <code class="literal">GDK_NONE</code>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040027"></a><h3>
<a name="gtk-drag-dest-get-target-list"></a>gtk_drag_dest_get_target_list ()</h3>
<a class="indexterm" name="id3040038"></a><pre class="programlisting"><a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* gtk_drag_dest_get_target_list
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Returns the list of targets this widget can accept from
drag-and-drop.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the <a href="gtk-Selections.html#GtkTargetList"><span class="type">GtkTargetList</span></a>, or <code class="literal">NULL</code> if none
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040122"></a><h3>
<a name="gtk-drag-dest-set-target-list"></a>gtk_drag_dest_set_target_list ()</h3>
<a class="indexterm" name="id3040133"></a><pre class="programlisting">void        gtk_drag_dest_set_target_list   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre>
<p>
Sets the target types that this widget can accept from drag-and-drop.
The widget must first be made into a drag destination with
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set"><code class="function">gtk_drag_dest_set()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag destination
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>target_list</code></em>&#160;:</span></td>
<td> list of droppable targets, or <code class="literal">NULL</code> for none
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040232"></a><h3>
<a name="gtk-drag-dest-add-text-targets"></a>gtk_drag_dest_add_text_targets ()</h3>
<a class="indexterm" name="id3040243"></a><pre class="programlisting">void        gtk_drag_dest_add_text_targets  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the text targets supported by <span class="type">GtkSelection</span> to
the target list of the drag destination. The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-text-targets"><code class="function">gtk_target_list_add_text_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-target-list"><code class="function">gtk_drag_dest_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag destination
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040346"></a><h3>
<a name="gtk-drag-dest-add-image-targets"></a>gtk_drag_dest_add_image_targets ()</h3>
<a class="indexterm" name="id3040357"></a><pre class="programlisting">void        gtk_drag_dest_add_image_targets (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the image targets supported by <span class="type">GtkSelection</span> to
the target list of the drag destination. The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-image-targets"><code class="function">gtk_target_list_add_image_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-target-list"><code class="function">gtk_drag_dest_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag destination
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040460"></a><h3>
<a name="gtk-drag-dest-add-uri-targets"></a>gtk_drag_dest_add_uri_targets ()</h3>
<a class="indexterm" name="id3040471"></a><pre class="programlisting">void        gtk_drag_dest_add_uri_targets   (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the URI targets supported by <span class="type">GtkSelection</span> to
the target list of the drag destination. The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-uri-targets"><code class="function">gtk_target_list_add_uri_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-dest-set-target-list"><code class="function">gtk_drag_dest_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag destination
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040573"></a><h3>
<a name="gtk-drag-finish"></a>gtk_drag_finish ()</h3>
<a class="indexterm" name="id3040584"></a><pre class="programlisting">void        gtk_drag_finish                 (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             gboolean success,
                                             gboolean del,
                                             guint32 time_);</pre>
<p>
Informs the drag source that the drop is finished, and
that the data of the drag will no longer be required.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td>the drag context.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>success</code></em>&#160;:</span></td>
<td>a flag indicating whether the drop was successful
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>del</code></em>&#160;:</span></td>
<td>a flag indicating whether the source should delete the
      original data. (This should be <code class="literal">TRUE</code> for a move)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>time_</code></em>&#160;:</span></td>
<td>the timestamp from the "drag_data_drop" signal.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040706"></a><h3>
<a name="gtk-drag-get-data"></a>gtk_drag_get_data ()</h3>
<a class="indexterm" name="id3040717"></a><pre class="programlisting">void        gtk_drag_get_data               (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Properties-and-Atoms.html#GdkAtom"
>GdkAtom</a> target,
                                             guint32 time_);</pre>
<p>
Gets the data associated with a drag. When the data
is received or the retrieval fails, GTK+ will emit a 
"drag_data_received" signal. Failure of the retrieval
is indicated by the length field of the <em class="parameter"><code>selection_data</code></em>
signal parameter being negative. However, when <a href="gtk-Drag-and-Drop.html#gtk-drag-get-data"><code class="function">gtk_drag_get_data()</code></a> 
is called implicitely because the <code class="literal">GTK_DEST_DEFAULT_DROP</code> was set, 
then the widget will not receive notification of failed
drops.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>the widget that will receive the "drag_data_received"
 signal.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td>the drag context
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>target</code></em>&#160;:</span></td>
<td>the target (form of the data) to retrieve.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>time_</code></em>&#160;:</span></td>
<td>a timestamp for retrieving the data. This will
       generally be the time received in a "drag_data_motion"
       or "drag_data_drop" signal.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040860"></a><h3>
<a name="gtk-drag-get-source-widget"></a>gtk_drag_get_source_widget ()</h3>
<a class="indexterm" name="id3040871"></a><pre class="programlisting"><a href="GtkWidget.html" title="GtkWidget">GtkWidget</a>*  gtk_drag_get_source_widget      (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);</pre>
<p>
Determines the source widget for a drag.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td>a (destination side) drag context.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td>if the drag is occurring within a single application,
          a pointer to the source widget. Otherwise, <code class="literal">NULL</code>.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3040936"></a><h3>
<a name="gtk-drag-highlight"></a>gtk_drag_highlight ()</h3>
<a class="indexterm" name="id3040948"></a><pre class="programlisting">void        gtk_drag_highlight              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Draws a highlight around a widget. This will attach
handlers to  "expose_event" and "draw", so the highlight
will continue to be displayed until <a href="gtk-Drag-and-Drop.html#gtk-drag-unhighlight"><code class="function">gtk_drag_unhighlight()</code></a>
is called.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a widget to highlight


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041007"></a><h3>
<a name="gtk-drag-unhighlight"></a>gtk_drag_unhighlight ()</h3>
<a class="indexterm" name="id3041018"></a><pre class="programlisting">void        gtk_drag_unhighlight            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Removes a highlight set by <a href="gtk-Drag-and-Drop.html#gtk-drag-highlight"><code class="function">gtk_drag_highlight()</code></a> from
a widget.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a widget to remove the highlight from.


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041077"></a><h3>
<a name="gtk-drag-begin"></a>gtk_drag_begin ()</h3>
<a class="indexterm" name="id3041088"></a><pre class="programlisting"><a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a>* gtk_drag_begin              (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions,
                                             gint button,
                                             <a
href="../gdk/gdk-Event-Structures.html#GdkEvent"
>GdkEvent</a> *event);</pre>
<p>
Initiates a drag on the source side. The function
only needs to be used when the application is
starting drags itself, and is not needed when
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><code class="function">gtk_drag_source_set()</code></a> is used.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> the source widget.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>targets</code></em>&#160;:</span></td>
<td> The targets (data formats) in which the
   source can provide the data.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>actions</code></em>&#160;:</span></td>
<td> A bitmask of the allowed drag actions for this drag.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>button</code></em>&#160;:</span></td>
<td> The button the user clicked to start the drag.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>event</code></em>&#160;:</span></td>
<td> The event that triggered the start of the drag.
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the context for this drag.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041252"></a><h3>
<a name="gtk-drag-set-icon-widget"></a>gtk_drag_set_icon_widget ()</h3>
<a class="indexterm" name="id3041263"></a><pre class="programlisting">void        gtk_drag_set_icon_widget        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             gint hot_x,
                                             gint hot_y);</pre>
<p>
Changes the icon for a widget to a given widget. GTK+
will not destroy the icon, so if you don't want
it to persist, you should connect to the "drag_end" 
signal and destroy it yourself.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> the context for a drag. (This must be called 
          with a  context for the source side of a drag)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a toplevel window to use as an icon.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_x</code></em>&#160;:</span></td>
<td> the X offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_y</code></em>&#160;:</span></td>
<td> the Y offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041395"></a><h3>
<a name="gtk-drag-set-icon-pixmap"></a>gtk_drag_set_icon_pixmap ()</h3>
<a class="indexterm" name="id3041406"></a><pre class="programlisting">void        gtk_drag_set_icon_pixmap        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             gint hot_x,
                                             gint hot_y);</pre>
<p>
Sets <em class="parameter"><code>pixmap</code></em> as the icon for a given drag. GTK+ retains
references for the arguments, and will release them when
they are no longer needed. In general, <a href="gtk-Drag-and-Drop.html#gtk-drag-set-icon-pixbuf"><code class="function">gtk_drag_set_icon_pixbuf()</code></a>
will be more convenient to use.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>colormap</code></em>&#160;:</span></td>
<td> the colormap of the icon 
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>pixmap</code></em>&#160;:</span></td>
<td> the image data for the icon 
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> the transparency mask for the icon
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_x</code></em>&#160;:</span></td>
<td> the X offset within <em class="parameter"><code>pixmap</code></em> of the hotspot.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_y</code></em>&#160;:</span></td>
<td> the Y offset within <em class="parameter"><code>pixmap</code></em> of the hotspot.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041599"></a><h3>
<a name="gtk-drag-set-icon-pixbuf"></a>gtk_drag_set_icon_pixbuf ()</h3>
<a class="indexterm" name="id3041610"></a><pre class="programlisting">void        gtk_drag_set_icon_pixbuf        (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf,
                                             gint hot_x,
                                             gint hot_y);</pre>
<p>
Sets <em class="parameter"><code>pixbuf</code></em> as the icon for a given drag.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>pixbuf</code></em>&#160;:</span></td>
<td> the <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a> to use as the drag icon.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_x</code></em>&#160;:</span></td>
<td> the X offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_y</code></em>&#160;:</span></td>
<td> the Y offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041753"></a><h3>
<a name="gtk-drag-set-icon-stock"></a>gtk_drag_set_icon_stock ()</h3>
<a class="indexterm" name="id3041764"></a><pre class="programlisting">void        gtk_drag_set_icon_stock         (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context,
                                             const gchar *stock_id,
                                             gint hot_x,
                                             gint hot_y);</pre>
<p>
Sets the icon for a given drag from a stock ID.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> the context for a drag. (This must be called 
           with a  context for the source side of a drag)
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>stock_id</code></em>&#160;:</span></td>
<td> the ID of the stock icon to use for the drag.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_x</code></em>&#160;:</span></td>
<td> the X offset within the icon of the hotspot.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_y</code></em>&#160;:</span></td>
<td> the Y offset within the icon of the hotspot.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041883"></a><h3>
<a name="gtk-drag-set-icon-default"></a>gtk_drag_set_icon_default ()</h3>
<a class="indexterm" name="id3041895"></a><pre class="programlisting">void        gtk_drag_set_icon_default       (<a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragContext"
>GdkDragContext</a> *context);</pre>
<p>
Sets the icon for a particular drag to the default
icon.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>context</code></em>&#160;:</span></td>
<td> the context for a drag. (This must be called 
             with a  context for the source side of a drag)
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3041947"></a><h3>
<a name="gtk-drag-set-default-icon"></a>gtk_drag_set_default_icon ()</h3>
<a class="indexterm" name="id3041959"></a><pre class="programlisting">void        gtk_drag_set_default_icon       (<a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask,
                                             gint hot_x,
                                             gint hot_y);</pre>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p><code class="literal">gtk_drag_set_default_icon</code> is deprecated and should not be used in newly-written code.</p>
</div>
<p>
Changes the default drag icon. GTK+ retains references for the
arguments, and will release them when they are no longer needed.
This function is obsolete. The default icon should now be changed
via the stock system by changing the stock pixbuf for <a href="gtk-Stock-Items.html#GTK-STOCK-DND:CAPS"><span class="type">GTK_STOCK_DND</span></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>colormap</code></em>&#160;:</span></td>
<td> the colormap of the icon
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>pixmap</code></em>&#160;:</span></td>
<td> the image data for the icon
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> the transparency mask for an image.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_x</code></em>&#160;:</span></td>
<td> The X offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>hot_y</code></em>&#160;:</span></td>
<td> The Y offset within <em class="parameter"><code>widget</code></em> of the hotspot.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042134"></a><h3>
<a name="gtk-drag-check-threshold"></a>gtk_drag_check_threshold ()</h3>
<a class="indexterm" name="id3042144"></a><pre class="programlisting">gboolean    gtk_drag_check_threshold        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             gint start_x,
                                             gint start_y,
                                             gint current_x,
                                             gint current_y);</pre>
<p>
Checks to see if a mouse drag starting at (<em class="parameter"><code>start_x</code></em>, <em class="parameter"><code>start_y</code></em>) and ending
at (<em class="parameter"><code>current_x</code></em>, <em class="parameter"><code>current_y</code></em>) has passed the GTK+ drag threshold, and thus
should trigger the beginning of a drag-and-drop operation.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>start_x</code></em>&#160;:</span></td>
<td> X coordinate of start of drag
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>start_y</code></em>&#160;:</span></td>
<td> Y coordinate of start of drag
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>current_x</code></em>&#160;:</span></td>
<td> current X coordinate
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>current_y</code></em>&#160;:</span></td>
<td> current Y coordinate
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> <code class="literal">TRUE</code> if the drag threshold has been passed.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042331"></a><h3>
<a name="gtk-drag-source-set"></a>gtk_drag_source_set ()</h3>
<a class="indexterm" name="id3042343"></a><pre class="programlisting">void        gtk_drag_source_set             (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Windows.html#GdkModifierType"
>GdkModifierType</a> start_button_mask,
                                             const <a href="gtk-Selections.html#GtkTargetEntry">GtkTargetEntry</a> *targets,
                                             gint n_targets,
                                             <a
href="../gdk/gdk-Drag-and-Drop.html#GdkDragAction"
>GdkDragAction</a> actions);</pre>
<p>
Sets up a widget so that GTK+ will start a drag
operation when the user clicks and drags on the
widget. The widget must have a window.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>start_button_mask</code></em>&#160;:</span></td>
<td>the bitmask of buttons that can start the drag
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>targets</code></em>&#160;:</span></td>
<td>the table of targets that the drag will support
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>n_targets</code></em>&#160;:</span></td>
<td>the number of items in <em class="parameter"><code>targets</code></em>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>actions</code></em>&#160;:</span></td>
<td>the bitmask of possible actions for a drag from this
 widget.


</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042494"></a><h3>
<a name="gtk-drag-source-set-icon"></a>gtk_drag_source_set_icon ()</h3>
<a class="indexterm" name="id3042504"></a><pre class="programlisting">void        gtk_drag_source_set_icon        (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk/gdk-Colormaps-and-Colors.html#GdkColormap"
>GdkColormap</a> *colormap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkPixmap"
>GdkPixmap</a> *pixmap,
                                             <a
href="../gdk/gdk-Bitmaps-and-Pixmaps.html#GdkBitmap"
>GdkBitmap</a> *mask);</pre>
<p>
Sets the icon that will be used for drags from a particular widget
from a pixmap/mask. GTK+ retains references for the arguments, and 
will release them when they are no longer needed.
Use <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-icon-pixbuf"><code class="function">gtk_drag_source_set_icon_pixbuf()</code></a> instead.</p>
<p>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>colormap</code></em>&#160;:</span></td>
<td> the colormap of the icon
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>pixmap</code></em>&#160;:</span></td>
<td> the image data for the icon
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>mask</code></em>&#160;:</span></td>
<td> the transparency mask for an image.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042642"></a><h3>
<a name="gtk-drag-source-set-icon-pixbuf"></a>gtk_drag_source_set_icon_pixbuf ()</h3>
<a class="indexterm" name="id3042653"></a><pre class="programlisting">void        gtk_drag_source_set_icon_pixbuf (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
>GdkPixbuf</a> *pixbuf);</pre>
<p>
Sets the icon that will be used for drags from a particular widget
from a <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a>. GTK+ retains a reference for <em class="parameter"><code>pixbuf</code></em> and will 
release it when it is no longer needed.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>pixbuf</code></em>&#160;:</span></td>
<td> the <a
href="../gdk-pixbuf/gdk-pixbuf-gdk-pixbuf.html#GdkPixbuf"
><span class="type">GdkPixbuf</span></a> for the drag icon
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042756"></a><h3>
<a name="gtk-drag-source-set-icon-stock"></a>gtk_drag_source_set_icon_stock ()</h3>
<a class="indexterm" name="id3042767"></a><pre class="programlisting">void        gtk_drag_source_set_icon_stock  (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             const gchar *stock_id);</pre>
<p>
Sets the icon that will be used for drags from a particular source
to a stock icon.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>stock_id</code></em>&#160;:</span></td>
<td> the ID of the stock icon to use
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042848"></a><h3>
<a name="gtk-drag-source-unset"></a>gtk_drag_source_unset ()</h3>
<a class="indexterm" name="id3042859"></a><pre class="programlisting">void        gtk_drag_source_unset           (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Undoes the effects of <a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><code class="function">gtk_drag_source_set()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td>a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>


</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3042923"></a><h3>
<a name="gtk-drag-source-set-target-list"></a>gtk_drag_source_set_target_list ()</h3>
<a class="indexterm" name="id3042934"></a><pre class="programlisting">void        gtk_drag_source_set_target_list (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget,
                                             <a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a> *target_list);</pre>
<p>
Changes the target types that this widget offers for drag-and-drop.
The widget must first be made into a drag source with
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set"><code class="function">gtk_drag_source_set()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's a drag source
</td>
</tr>
<tr>
<td>
<span class="term"><em class="parameter"><code>target_list</code></em>&#160;:</span></td>
<td> list of draggable targets, or <code class="literal">NULL</code> for none
</td>
</tr>
</tbody>
</table></div>
<p>Since  2.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3043037"></a><h3>
<a name="gtk-drag-source-get-target-list"></a>gtk_drag_source_get_target_list ()</h3>
<a class="indexterm" name="id3043048"></a><pre class="programlisting"><a href="gtk-Selections.html#GtkTargetList">GtkTargetList</a>* gtk_drag_source_get_target_list
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Gets the list of targets this widget can provide for
drag-and-drop.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a>
</td>
</tr>
<tr>
<td>
<span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></td>
<td> the <a href="gtk-Selections.html#GtkTargetList"><span class="type">GtkTargetList</span></a>, or <code class="literal">NULL</code> if none

</td>
</tr>
</tbody>
</table></div>
<p>Since  2.4
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3043137"></a><h3>
<a name="gtk-drag-source-add-text-targets"></a>gtk_drag_source_add_text_targets ()</h3>
<a class="indexterm" name="id3043148"></a><pre class="programlisting">void        gtk_drag_source_add_text_targets
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the text targets supported by <span class="type">GtkSelection</span> to
the target list of the drag source.  The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-text-targets"><code class="function">gtk_target_list_add_text_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-target-list"><code class="function">gtk_drag_source_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's is a drag source
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3043250"></a><h3>
<a name="gtk-drag-source-add-image-targets"></a>gtk_drag_source_add_image_targets ()</h3>
<a class="indexterm" name="id3043262"></a><pre class="programlisting">void        gtk_drag_source_add_image_targets
                                            (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the writable image targets supported by <span class="type">GtkSelection</span> to
the target list of the drag source. The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-image-targets"><code class="function">gtk_target_list_add_image_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-target-list"><code class="function">gtk_drag_source_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's is a drag source
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id3043364"></a><h3>
<a name="gtk-drag-source-add-uri-targets"></a>gtk_drag_source_add_uri_targets ()</h3>
<a class="indexterm" name="id3043375"></a><pre class="programlisting">void        gtk_drag_source_add_uri_targets (<a href="GtkWidget.html" title="GtkWidget">GtkWidget</a> *widget);</pre>
<p>
Add the URI targets supported by <span class="type">GtkSelection</span> to
the target list of the drag source.  The targets
are added with <em class="parameter"><code>info</code></em> = 0. If you need another value, 
use <a href="gtk-Selections.html#gtk-target-list-add-uri-targets"><code class="function">gtk_target_list_add_uri_targets()</code></a> and
<a href="gtk-Drag-and-Drop.html#gtk-drag-source-set-target-list"><code class="function">gtk_drag_source_set_target_list()</code></a>.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td>
<span class="term"><em class="parameter"><code>widget</code></em>&#160;:</span></td>
<td> a <a href="GtkWidget.html" title="GtkWidget"><span class="type">GtkWidget</span></a> that's is a drag source
</td>
</tr></tbody>
</table></div>
<p>Since  2.6
</p>
</div>
</div>
</div>
<table class="navigation" width="100%" summary="Navigation footer" cellpadding="2" cellspacing="0"><tr valign="middle">
<td align="left"><a accesskey="p" href="gtk-Clipboards.html"><b>&lt;&lt;&#160;Clipboards</b></a></td>
<td align="right"><a accesskey="n" href="GtkIconTheme.html"><b>GtkIconTheme&#160;&gt;&gt;</b></a></td>
</tr></table>
</body>
</html>
