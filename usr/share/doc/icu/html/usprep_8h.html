<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICU 3.8: usprep.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>usprep.h File Reference</h1>C API: Implements the StringPrep algorithm. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="utypes_8h-source.html">unicode/utypes.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="parseerr_8h-source.html">unicode/parseerr.h</a>&quot;</code><br>

<p>
<a href="usprep_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#b5702434a76b6a260d200d2380166625">USPREP_DEFAULT</a>&nbsp;&nbsp;&nbsp;0x0000</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Option to prohibit processing of unassigned code points in the input.  <a href="#b5702434a76b6a260d200d2380166625"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#b7b59be4f9636e3c43015642ff34f2c2">USPREP_ALLOW_UNASSIGNED</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Option to allow processing of unassigned code points in the input.  <a href="#b7b59be4f9636e3c43015642ff34f2c2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">StringPrep API implements the StingPrep framework as described by RFC 3454.  <a href="#725d11d0c462858ee0845710f7e1e2c2"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#04f460592db2472edb6cb2a5375453e3">usprep_open</a> (const char *path, const char *fileName, <a class="el" href="utypes_8h.html#3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a StringPrep profile from the data file.  <a href="#04f460592db2472edb6cb2a5375453e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#9565aad7868978f947a4dc01899bdd0d">usprep_close</a> (<a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> *profile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the profile.  <a href="#9565aad7868978f947a4dc01899bdd0d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usprep_8h.html#3585603689e2aaee39fd2a5d1b7578ad">usprep_prepare</a> (const <a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> *prep, const UChar *src, int32_t srcLength, UChar *dest, int32_t destCapacity, int32_t options, <a class="el" href="structUParseError.html">UParseError</a> *parseError, <a class="el" href="utypes_8h.html#3343c1c8a8377277046774691c98d78c">UErrorCode</a> *status)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prepare the input buffer for use in applications with the given profile.  <a href="#3585603689e2aaee39fd2a5d1b7578ad"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
C API: Implements the StringPrep algorithm. 
<p>

<p>Definition in file <a class="el" href="usprep_8h-source.html">usprep.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="b7b59be4f9636e3c43015642ff34f2c2"></a><!-- doxytag: member="usprep.h::USPREP_ALLOW_UNASSIGNED" ref="b7b59be4f9636e3c43015642ff34f2c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USPREP_ALLOW_UNASSIGNED&nbsp;&nbsp;&nbsp;0x0001          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Option to allow processing of unassigned code points in the input. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="usprep_8h.html#3585603689e2aaee39fd2a5d1b7578ad" title="Prepare the input buffer for use in applications with the given profile.">usprep_prepare</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001722">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

<p>Definition at line <a class="el" href="usprep_8h-source.html#l00083">83</a> of file <a class="el" href="usprep_8h-source.html">usprep.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b5702434a76b6a260d200d2380166625"></a><!-- doxytag: member="usprep.h::USPREP_DEFAULT" ref="b5702434a76b6a260d200d2380166625" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USPREP_DEFAULT&nbsp;&nbsp;&nbsp;0x0000          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Option to prohibit processing of unassigned code points in the input. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="usprep_8h.html#3585603689e2aaee39fd2a5d1b7578ad" title="Prepare the input buffer for use in applications with the given profile.">usprep_prepare</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001721">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

<p>Definition at line <a class="el" href="usprep_8h-source.html#l00075">75</a> of file <a class="el" href="usprep_8h-source.html">usprep.h</a>.</p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="725d11d0c462858ee0845710f7e1e2c2"></a><!-- doxytag: member="usprep.h::UStringPrepProfile" ref="725d11d0c462858ee0845710f7e1e2c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> <a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
StringPrep API implements the StingPrep framework as described by RFC 3454. 
<p>
StringPrep prepares Unicode strings for use in network protocols. Profiles of StingPrep are set of rules and data according to with the Unicode Strings are prepared. Each profiles contains tables which describe how a code point should be treated. The tables are broadly classied into <ul>
<li>
Unassinged Table: Contains code points that are unassigned in the Unicode Version supported by StringPrep. Currently RFC 3454 supports Unicode 3.2.  </li>
<li>
Prohibited Table: Contains code points that are prohibted from the output of the StringPrep processing function.  </li>
<li>
Mapping Table: Contains code ponts that are deleted from the output or case mapped.  </li>
</ul>
<p>
The procedure for preparing Unicode strings: <ol>
<li>
Map: For each character in the input, check if it has a mapping and, if so, replace it with its mapping.  </li>
<li>
Normalize: Possibly normalize the result of step 1 using Unicode normalization.  </li>
<li>
Prohibit: Check for any characters that are not allowed in the output. If any are found, return an error. </li>
<li>
Check bidi: Possibly check for right-to-left characters, and if any are found, make sure that the whole string satisfies the requirements for bidirectional strings. If the string does not satisfy the requirements for bidirectional strings, return an error.  </li>
</ol>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Ram Viswanadha The StringPrep profile </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001720">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

<p>Definition at line <a class="el" href="usprep_8h-source.html#l00066">66</a> of file <a class="el" href="usprep_8h-source.html">usprep.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9565aad7868978f947a4dc01899bdd0d"></a><!-- doxytag: member="usprep.h::usprep_close" ref="9565aad7868978f947a4dc01899bdd0d" args="(UStringPrepProfile *profile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usprep_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> *&nbsp;</td>
          <td class="paramname"> <em>profile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the profile. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>profile</em>&nbsp;</td><td>The profile to close </td></tr>
  </table>
</dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001724">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

</div>
</div><p>
<a class="anchor" name="04f460592db2472edb6cb2a5375453e3"></a><!-- doxytag: member="usprep.h::usprep_open" ref="04f460592db2472edb6cb2a5375453e3" args="(const char *path, const char *fileName, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a>* usprep_open           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a StringPrep profile from the data file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>string containing the full path pointing to the directory where the profile reside followed by the package name e.g. "/usr/resource/my_app/profiles/mydata" on a Unix system. if NULL, ICU default data files will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>name of the profile file to be opened </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>ICU error code in/out parameter. Must not be NULL. Must fulfill U_SUCCESS before the function call. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Pointer to UStringPrepProfile that is opened. Should be closed by calling <a class="el" href="usprep_8h.html#9565aad7868978f947a4dc01899bdd0d" title="Closes the profile.">usprep_close()</a> </dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="usprep_8h.html#9565aad7868978f947a4dc01899bdd0d" title="Closes the profile.">usprep_close()</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001723">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

</div>
</div><p>
<a class="anchor" name="3585603689e2aaee39fd2a5d1b7578ad"></a><!-- doxytag: member="usprep.h::usprep_prepare" ref="3585603689e2aaee39fd2a5d1b7578ad" args="(const UStringPrepProfile *prep, const UChar *src, int32_t srcLength, UChar *dest, int32_t destCapacity, int32_t options, UParseError *parseError, UErrorCode *status)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t usprep_prepare           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="usprep_8h.html#725d11d0c462858ee0845710f7e1e2c2">UStringPrepProfile</a> *&nbsp;</td>
          <td class="paramname"> <em>prep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const UChar *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>srcLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UChar *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>destCapacity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structUParseError.html">UParseError</a> *&nbsp;</td>
          <td class="paramname"> <em>parseError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="utypes_8h.html#3343c1c8a8377277046774691c98d78c">UErrorCode</a> *&nbsp;</td>
          <td class="paramname"> <em>status</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepare the input buffer for use in applications with the given profile. 
<p>
This operation maps, normalizes(NFKC), checks for prohited and BiDi characters in the order defined by RFC 3454 depending on the options specified in the profile.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prep</em>&nbsp;</td><td>The profile to use </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to UChar buffer containing the string to prepare </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>srcLength</em>&nbsp;</td><td>Number of characters in the source string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>Pointer to the destination buffer to receive the output </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destCapacity</em>&nbsp;</td><td>The capacity of destination array </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>A bit set of options:</td></tr>
  </table>
</dl>
<ul>
<li>USPREP_NONE Prohibit processing of unassigned code points in the input</li></ul>
<p>
<ul>
<li>USPREP_ALLOW_UNASSIGNED Treat the unassigned code points are in the input as normal Unicode code points.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>parseError</em>&nbsp;</td><td>Pointer to <a class="el" href="structUParseError.html" title="A UParseError struct is used to returned detailed information about parsing errors...">UParseError</a> struct to receive information on position of error if an error is encountered. Can be NULL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>status</em>&nbsp;</td><td>ICU in/out error code parameter. U_INVALID_CHAR_FOUND if src contains unmatched single surrogates. U_INDEX_OUTOFBOUNDS_ERROR if src contains too many code points. U_BUFFER_OVERFLOW_ERROR if destCapacity is not enough </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of UChars in the destination buffer </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001725">Stable:</a></b></dt><dd>ICU 2.8 </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 28 17:50:05 2008 for ICU 3.8 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
