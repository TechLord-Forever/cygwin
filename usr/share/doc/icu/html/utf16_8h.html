<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ICU 3.8: utf16.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>utf16.h File Reference</h1>C API: 16-bit Unicode handling macros. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="utf_8h-source.html">unicode/utf.h</a>&quot;</code><br>

<p>
<a href="utf16_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#35f04f1f6e7f0965a66b5268eec29b99">U16_IS_SINGLE</a>(c)&nbsp;&nbsp;&nbsp;!U_IS_SURROGATE(c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Does this code unit alone encode a code point (BMP, not a surrogate)?  <a href="#35f04f1f6e7f0965a66b5268eec29b99"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144">U16_IS_LEAD</a>(c)&nbsp;&nbsp;&nbsp;(((c)&amp;0xfffffc00)==0xd800)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this code unit a lead surrogate (U+d800.  <a href="#ce839ae31a801fd9c53fa67c5f8b9144"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724">U16_IS_TRAIL</a>(c)&nbsp;&nbsp;&nbsp;(((c)&amp;0xfffffc00)==0xdc00)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this code unit a trail surrogate (U+dc00.  <a href="#fe8d9f450b9297897f018c2f23eb0724"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#c25b589c0c9b60160d357770fad39cea">U16_IS_SURROGATE</a>(c)&nbsp;&nbsp;&nbsp;U_IS_SURROGATE(c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Is this code unit a surrogate (U+d800.  <a href="#c25b589c0c9b60160d357770fad39cea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#6e141a548138e8c24822d219b7e06cb4">U16_IS_SURROGATE_LEAD</a>(c)&nbsp;&nbsp;&nbsp;(((c)&amp;0x400)==0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Assuming c is a surrogate code point (<a class="el" href="utf16_8h.html#c25b589c0c9b60160d357770fad39cea" title="Is this code unit a surrogate (U+d800.">U16_IS_SURROGATE(c)</a>), is it a lead surrogate?  <a href="#6e141a548138e8c24822d219b7e06cb4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#5b15d2eeb271d0a6d92c854681ebaf20">U16_SURROGATE_OFFSET</a>&nbsp;&nbsp;&nbsp;((0xd800&lt;&lt;10UL)+0xdc00-0x10000)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper constant for U16_GET_SUPPLEMENTARY.  <a href="#5b15d2eeb271d0a6d92c854681ebaf20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006">U16_GET_SUPPLEMENTARY</a>(lead, trail)&nbsp;&nbsp;&nbsp;(((<a class="el" href="umachine_8h.html#09fff5c3b5a5b015324dc3ec3cf92809">UChar32</a>)(lead)&lt;&lt;10UL)+(UChar32)(trail)-U16_SURROGATE_OFFSET)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a supplementary code point value (U+10000.  <a href="#c1deffbf1956d9fe696129515e88f006"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#d0e832d06991f5f07a43d68d202165b1">U16_LEAD</a>(supplementary)&nbsp;&nbsp;&nbsp;(UChar)(((supplementary)&gt;&gt;10)+0xd7c0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the lead surrogate (0xd800.  <a href="#d0e832d06991f5f07a43d68d202165b1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#bf0698cf645946911b2e10d3ab890321">U16_TRAIL</a>(supplementary)&nbsp;&nbsp;&nbsp;(UChar)(((supplementary)&amp;0x3ff)|0xdc00)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the trail surrogate (0xdc00.  <a href="#bf0698cf645946911b2e10d3ab890321"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#dd0a383d49e1ca81e2920d25883a56a9">U16_LENGTH</a>(c)&nbsp;&nbsp;&nbsp;((uint32_t)(c)&lt;=0xffff ? 1 : 2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">How many 16-bit code units are used to encode this Unicode code point? (1 or 2) The result is not defined if c is not a Unicode code point (U+0000.  <a href="#dd0a383d49e1ca81e2920d25883a56a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#b14454ab71a81f0cf86e523e50690eee">U16_MAX_LENGTH</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The maximum number of 16-bit code units per Unicode code point (U+0000.  <a href="#b14454ab71a81f0cf86e523e50690eee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#f2c94fe2b41f2d73e7600c1ab1ca3b9b">U16_GET_UNSAFE</a>(s, i, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a code point from a string at a random-access offset, without changing the offset.  <a href="#f2c94fe2b41f2d73e7600c1ab1ca3b9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#a354b12f5f755fe734f957cde6d68bbe">U16_GET</a>(s, start, i, length, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a code point from a string at a random-access offset, without changing the offset.  <a href="#a354b12f5f755fe734f957cde6d68bbe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#e98a64ae0f42bc6ad4179293c3638be4">U16_NEXT_UNSAFE</a>(s, i, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary.  <a href="#e98a64ae0f42bc6ad4179293c3638be4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#844bb48486904fdca40c8b883e9c80ee">U16_NEXT</a>(s, i, length, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary.  <a href="#844bb48486904fdca40c8b883e9c80ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#ea8253343c96066779cd3383080cafa8">U16_APPEND_UNSAFE</a>(s, i, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a code point to a string, overwriting 1 or 2 code units.  <a href="#ea8253343c96066779cd3383080cafa8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#30e185424986bca1790c1ffe1e2a93b5">U16_APPEND</a>(s, i, capacity, c, isError)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Append a code point to a string, overwriting 1 or 2 code units.  <a href="#30e185424986bca1790c1ffe1e2a93b5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#148111a5adbb596ad3b6c2e3e3cf7cec">U16_FWD_1_UNSAFE</a>(s, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance the string offset from one code point boundary to the next.  <a href="#148111a5adbb596ad3b6c2e3e3cf7cec"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#6c79f8f5377e1d4abba0e108be553512">U16_FWD_1</a>(s, i, length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance the string offset from one code point boundary to the next.  <a href="#6c79f8f5377e1d4abba0e108be553512"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#6632ab346045ebb4fa2d358f19bbd907">U16_FWD_N_UNSAFE</a>(s, i, n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance the string offset from one code point boundary to the n-th next one, i.e., move forward by n code points.  <a href="#6632ab346045ebb4fa2d358f19bbd907"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#d70d5a679bd03c63131219c7808d9de9">U16_FWD_N</a>(s, i, length, n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Advance the string offset from one code point boundary to the n-th next one, i.e., move forward by n code points.  <a href="#d70d5a679bd03c63131219c7808d9de9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#de68651cb87ae4cd94cec2d0036ac9c6">U16_SET_CP_START_UNSAFE</a>(s, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust a random-access offset to a code point boundary at the start of a code point.  <a href="#de68651cb87ae4cd94cec2d0036ac9c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#31c914801f71204ee90caa6c4d0c3c1b">U16_SET_CP_START</a>(s, start, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust a random-access offset to a code point boundary at the start of a code point.  <a href="#31c914801f71204ee90caa6c4d0c3c1b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#4cccc93c8a8e5d438ff6d0371a7a3937">U16_PREV_UNSAFE</a>(s, i, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the previous one and get the code point between them.  <a href="#4cccc93c8a8e5d438ff6d0371a7a3937"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#592fa1f80da119e1c4565dc9193c18d9">U16_PREV</a>(s, start, i, c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the previous one and get the code point between them.  <a href="#592fa1f80da119e1c4565dc9193c18d9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#ad03daaa2706b094ea7d454d6842f8c4">U16_BACK_1_UNSAFE</a>(s, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the previous one.  <a href="#ad03daaa2706b094ea7d454d6842f8c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#5f48fd46255969ea3175b3946cf4de80">U16_BACK_1</a>(s, start, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the previous one.  <a href="#5f48fd46255969ea3175b3946cf4de80"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#fa230a7bea98dc8b5b3cd3d936126c6b">U16_BACK_N_UNSAFE</a>(s, i, n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the n-th one before it, i.e., move backward by n code points.  <a href="#fa230a7bea98dc8b5b3cd3d936126c6b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#0a69bdb829f995ad82cb50071f578887">U16_BACK_N</a>(s, start, i, n)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the string offset from one code point boundary to the n-th one before it, i.e., move backward by n code points.  <a href="#0a69bdb829f995ad82cb50071f578887"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#4d3e9ee47d4fdb9fbf93a98ee1248c81">U16_SET_CP_LIMIT_UNSAFE</a>(s, i)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust a random-access offset to a code point boundary after a code point.  <a href="#4d3e9ee47d4fdb9fbf93a98ee1248c81"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="utf16_8h.html#3d5ff64af4bf16cbf9a830743a5c74a4">U16_SET_CP_LIMIT</a>(s, start, i, length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adjust a random-access offset to a code point boundary after a code point.  <a href="#3d5ff64af4bf16cbf9a830743a5c74a4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
C API: 16-bit Unicode handling macros. 
<p>
This file defines macros to deal with 16-bit Unicode (UTF-16) code units and strings. <a class="el" href="utf16_8h.html" title="C API: 16-bit Unicode handling macros.">utf16.h</a> is included by <a class="el" href="utf_8h.html" title="C API: Code point macros.">utf.h</a> after <a class="el" href="umachine_8h.html" title="Basic types and constants for UTF.">unicode/umachine.h</a> and some common definitions.<p>
For more information see <a class="el" href="utf_8h.html" title="C API: Code point macros.">utf.h</a> and the ICU User Guide Strings chapter (<a href="http://icu-project.org/userguide/strings.html">http://icu-project.org/userguide/strings.html</a>).<p>
<em>Usage:</em> ICU coding guidelines for if() statements should be followed when using these macros. Compound statements (curly braces {}) must be used for if-else-while... bodies and all macro statements should be terminated with semicolon. 
<p>Definition in file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="30e185424986bca1790c1ffe1e2a93b5"></a><!-- doxytag: member="utf16.h::U16_APPEND" ref="30e185424986bca1790c1ffe1e2a93b5" args="(s, i, capacity, c, isError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_APPEND          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">capacity,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">isError&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>((uint32_t)(c)&lt;=0xffff) { \
        (s)[(i)++]=(uint16_t)(c); \
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((uint32_t)(c)&lt;=0x10ffff &amp;&amp; (i)+1&lt;(capacity)) { \
        (s)[(i)++]=(uint16_t)(((c)&gt;&gt;10)+0xd7c0); \
        (s)[(i)++]=(uint16_t)(((c)&amp;0x3ff)|0xdc00); \
    } <span class="keywordflow">else</span> <span class="comment">/* c&gt;0x10ffff or not enough space */</span> { \
        (isError)=<a class="code" href="umachine_8h.html#a8cecfc5c5c054d2875c03e77b7be15d" title="The TRUE value of a UBool.">TRUE</a>; \
    } \
}
</pre></div>Append a code point to a string, overwriting 1 or 2 code units. 
<p>
The offset points to the current end of the string contents and is advanced (post-increment). "Safe" macro, checks for a valid code point. If a surrogate pair is written, checks for sufficient space in the string. If the code point is not valid or a trail surrogate does not fit, then isError is set to TRUE.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be i&lt;capacity </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>capacity</em>&nbsp;</td><td>size of the string buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>code point to append </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>isError</em>&nbsp;</td><td>output UBool set to TRUE if an error occurs, otherwise not modified </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#ea8253343c96066779cd3383080cafa8" title="Append a code point to a string, overwriting 1 or 2 code units.">U16_APPEND_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001887">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00302">302</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

<p>Referenced by <a class="el" href="unistr_8h-source.html#l04038">UnicodeString::append()</a>, and <a class="el" href="unistr_8h-source.html#l03800">UnicodeString::replace()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ea8253343c96066779cd3383080cafa8"></a><!-- doxytag: member="utf16.h::U16_APPEND_UNSAFE" ref="ea8253343c96066779cd3383080cafa8" args="(s, i, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_APPEND_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>((uint32_t)(c)&lt;=0xffff) { \
        (s)[(i)++]=(uint16_t)(c); \
    } <span class="keywordflow">else</span> { \
        (s)[(i)++]=(uint16_t)(((c)&gt;&gt;10)+0xd7c0); \
        (s)[(i)++]=(uint16_t)(((c)&amp;0x3ff)|0xdc00); \
    } \
}
</pre></div>Append a code point to a string, overwriting 1 or 2 code units. 
<p>
The offset points to the current end of the string contents and is advanced (post-increment). "Unsafe" macro, assumes a valid code point and sufficient space in the string. Otherwise, the result is undefined.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>code point to append </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#30e185424986bca1790c1ffe1e2a93b5" title="Append a code point to a string, overwriting 1 or 2 code units.">U16_APPEND</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001886">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00276">276</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5f48fd46255969ea3175b3946cf4de80"></a><!-- doxytag: member="utf16.h::U16_BACK_1" ref="5f48fd46255969ea3175b3946cf4de80" args="(s, start, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_BACK_1          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[--(i)]) &amp;&amp; (i)&gt;(start) &amp;&amp; <a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)-1])) { \
        --(i); \
    } \
}
</pre></div>Move the string offset from one code point boundary to the previous one. 
<p>
(Pre-decrementing backward iteration.) The input offset may be the same as the string length. "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>starting string offset (usually 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be start&lt;i </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#ad03daaa2706b094ea7d454d6842f8c4" title="Move the string offset from one code point boundary to the previous one.">U16_BACK_1_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001897">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00516">516</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ad03daaa2706b094ea7d454d6842f8c4"></a><!-- doxytag: member="utf16.h::U16_BACK_1_UNSAFE" ref="ad03daaa2706b094ea7d454d6842f8c4" args="(s, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_BACK_1_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[--(i)])) { \
        --(i); \
    } \
}
</pre></div>Move the string offset from one code point boundary to the previous one. 
<p>
(Pre-decrementing backward iteration.) The input offset may be the same as the string length. "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#5f48fd46255969ea3175b3946cf4de80" title="Move the string offset from one code point boundary to the previous one.">U16_BACK_1</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001896">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00498">498</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="0a69bdb829f995ad82cb50071f578887"></a><!-- doxytag: member="utf16.h::U16_BACK_N" ref="0a69bdb829f995ad82cb50071f578887" args="(s, start, i, n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_BACK_N          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    int32_t __N=(n); \
    <span class="keywordflow">while</span>(__N&gt;0 &amp;&amp; (i)&gt;(start)) { \
        <a class="code" href="utf16_8h.html#5f48fd46255969ea3175b3946cf4de80" title="Move the string offset from one code point boundary to the previous one.">U16_BACK_1</a>(s, start, i); \
        --__N; \
    } \
}
</pre></div>Move the string offset from one code point boundary to the n-th one before it, i.e., move backward by n code points. 
<p>
(Pre-decrementing backward iteration.) The input offset may be the same as the string length. "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>start of string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be start&lt;i </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of code points to skip </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#fa230a7bea98dc8b5b3cd3d936126c6b" title="Move the string offset from one code point boundary to the n-th one before it, i...">U16_BACK_N_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001899">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00557">557</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fa230a7bea98dc8b5b3cd3d936126c6b"></a><!-- doxytag: member="utf16.h::U16_BACK_N_UNSAFE" ref="fa230a7bea98dc8b5b3cd3d936126c6b" args="(s, i, n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_BACK_N_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    int32_t __N=(n); \
    <span class="keywordflow">while</span>(__N&gt;0) { \
        <a class="code" href="utf16_8h.html#ad03daaa2706b094ea7d454d6842f8c4" title="Move the string offset from one code point boundary to the previous one.">U16_BACK_1_UNSAFE</a>(s, i); \
        --__N; \
    } \
}
</pre></div>Move the string offset from one code point boundary to the n-th one before it, i.e., move backward by n code points. 
<p>
(Pre-decrementing backward iteration.) The input offset may be the same as the string length. "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of code points to skip </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#0a69bdb829f995ad82cb50071f578887" title="Move the string offset from one code point boundary to the n-th one before it, i...">U16_BACK_N</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001898">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00535">535</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6c79f8f5377e1d4abba0e108be553512"></a><!-- doxytag: member="utf16.h::U16_FWD_1" ref="6c79f8f5377e1d4abba0e108be553512" args="(s, i, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_FWD_1          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">length&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)++]) &amp;&amp; (i)&lt;(length) &amp;&amp; <a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[i])) { \
        ++(i); \
    } \
}
</pre></div>Advance the string offset from one code point boundary to the next. 
<p>
(Post-incrementing iteration.) "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be i&lt;length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>string length </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#148111a5adbb596ad3b6c2e3e3cf7cec" title="Advance the string offset from one code point boundary to the next.">U16_FWD_1_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001889">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00340">340</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="148111a5adbb596ad3b6c2e3e3cf7cec"></a><!-- doxytag: member="utf16.h::U16_FWD_1_UNSAFE" ref="148111a5adbb596ad3b6c2e3e3cf7cec" args="(s, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_FWD_1_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)++])) { \
        ++(i); \
    } \
}
</pre></div>Advance the string offset from one code point boundary to the next. 
<p>
(Post-incrementing iteration.) "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#6c79f8f5377e1d4abba0e108be553512" title="Advance the string offset from one code point boundary to the next.">U16_FWD_1</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001888">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00323">323</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d70d5a679bd03c63131219c7808d9de9"></a><!-- doxytag: member="utf16.h::U16_FWD_N" ref="d70d5a679bd03c63131219c7808d9de9" args="(s, i, length, n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_FWD_N          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">length,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    int32_t __N=(n); \
    <span class="keywordflow">while</span>(__N&gt;0 &amp;&amp; (i)&lt;(length)) { \
        <a class="code" href="utf16_8h.html#6c79f8f5377e1d4abba0e108be553512" title="Advance the string offset from one code point boundary to the next.">U16_FWD_1</a>(s, i, length); \
        --__N; \
    } \
}
</pre></div>Advance the string offset from one code point boundary to the n-th next one, i.e., move forward by n code points. 
<p>
(Post-incrementing iteration.) "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be i&lt;length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>string length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of code points to skip </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#6632ab346045ebb4fa2d358f19bbd907" title="Advance the string offset from one code point boundary to the n-th next one, i.e...">U16_FWD_N_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001891">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00379">379</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6632ab346045ebb4fa2d358f19bbd907"></a><!-- doxytag: member="utf16.h::U16_FWD_N_UNSAFE" ref="6632ab346045ebb4fa2d358f19bbd907" args="(s, i, n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_FWD_N_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">n&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    int32_t __N=(n); \
    <span class="keywordflow">while</span>(__N&gt;0) { \
        <a class="code" href="utf16_8h.html#148111a5adbb596ad3b6c2e3e3cf7cec" title="Advance the string offset from one code point boundary to the next.">U16_FWD_1_UNSAFE</a>(s, i); \
        --__N; \
    } \
}
</pre></div>Advance the string offset from one code point boundary to the n-th next one, i.e., move forward by n code points. 
<p>
(Post-incrementing iteration.) "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of code points to skip </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#d70d5a679bd03c63131219c7808d9de9" title="Advance the string offset from one code point boundary to the n-th next one, i.e...">U16_FWD_N</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001890">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00358">358</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="a354b12f5f755fe734f957cde6d68bbe"></a><!-- doxytag: member="utf16.h::U16_GET" ref="a354b12f5f755fe734f957cde6d68bbe" args="(s, start, i, length, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_GET          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">length,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[i]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#c25b589c0c9b60160d357770fad39cea" title="Is this code unit a surrogate (U+d800.">U16_IS_SURROGATE</a>(c)) { \
        uint16_t __c2; \
        <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#6e141a548138e8c24822d219b7e06cb4" title="Assuming c is a surrogate code point (U16_IS_SURROGATE(c)), is it a lead surrogate...">U16_IS_SURROGATE_LEAD</a>(c)) { \
            <span class="keywordflow">if</span>((i)+1&lt;(length) &amp;&amp; <a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>(__c2=(s)[(i)+1])) { \
                (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((c), __c2); \
            } \
        } <span class="keywordflow">else</span> { \
            <span class="keywordflow">if</span>((i)-1&gt;=(start) &amp;&amp; <a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>(__c2=(s)[(i)-1])) { \
                (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>(__c2, (c)); \
            } \
        } \
    } \
}
</pre></div>Get a code point from a string at a random-access offset, without changing the offset. 
<p>
"Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
The offset may point to either the lead or trail surrogate unit for a supplementary code point, in which case the macro will read the adjacent matching surrogate as well. If the offset points to a single, unpaired surrogate, then that itself will be returned as the code point. Iteration through a string is more efficient with U16_NEXT_UNSAFE or U16_NEXT.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>starting string offset (usually 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be start&lt;=i&lt;length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>string length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#f2c94fe2b41f2d73e7600c1ab1ca3b9b" title="Get a code point from a string at a random-access offset, without changing the offset...">U16_GET_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001883">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00188">188</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

<p>Referenced by <a class="el" href="unistr_8h-source.html#l03904">UnicodeString::char32At()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c1deffbf1956d9fe696129515e88f006"></a><!-- doxytag: member="utf16.h::U16_GET_SUPPLEMENTARY" ref="c1deffbf1956d9fe696129515e88f006" args="(lead, trail)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_GET_SUPPLEMENTARY          </td>
          <td>(</td>
          <td class="paramtype">lead,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">trail&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((<a class="el" href="umachine_8h.html#09fff5c3b5a5b015324dc3ec3cf92809">UChar32</a>)(lead)&lt;&lt;10UL)+(UChar32)(trail)-U16_SURROGATE_OFFSET)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a supplementary code point value (U+10000. 
<p>
.U+10ffff) from its lead and trail surrogates. The result is undefined if the input values are not lead and trail surrogates.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lead</em>&nbsp;</td><td>lead surrogate (U+d800..U+dbff) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trail</em>&nbsp;</td><td>trail surrogate (U+dc00..U+dfff) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>supplementary code point (U+10000..U+10ffff) </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001877">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00102">102</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="f2c94fe2b41f2d73e7600c1ab1ca3b9b"></a><!-- doxytag: member="utf16.h::U16_GET_UNSAFE" ref="f2c94fe2b41f2d73e7600c1ab1ca3b9b" args="(s, i, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_GET_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[i]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#c25b589c0c9b60160d357770fad39cea" title="Is this code unit a surrogate (U+d800.">U16_IS_SURROGATE</a>(c)) { \
        <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#6e141a548138e8c24822d219b7e06cb4" title="Assuming c is a surrogate code point (U16_IS_SURROGATE(c)), is it a lead surrogate...">U16_IS_SURROGATE_LEAD</a>(c)) { \
            (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((c), (s)[(i)+1]); \
        } <span class="keywordflow">else</span> { \
            (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((s)[(i)-1], (c)); \
        } \
    } \
}
</pre></div>Get a code point from a string at a random-access offset, without changing the offset. 
<p>
"Unsafe" macro, assumes well-formed UTF-16.<p>
The offset may point to either the lead or trail surrogate unit for a supplementary code point, in which case the macro will read the adjacent matching surrogate as well. The result is undefined if the offset points to a single, unpaired surrogate. Iteration through a string is more efficient with U16_NEXT_UNSAFE or U16_NEXT.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#a354b12f5f755fe734f957cde6d68bbe" title="Get a code point from a string at a random-access offset, without changing the offset...">U16_GET</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001882">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00157">157</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="ce839ae31a801fd9c53fa67c5f8b9144"></a><!-- doxytag: member="utf16.h::U16_IS_LEAD" ref="ce839ae31a801fd9c53fa67c5f8b9144" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_IS_LEAD          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((c)&amp;0xfffffc00)==0xd800)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this code unit a lead surrogate (U+d800. 
<p>
.U+dbff)? <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>16-bit code unit </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001873">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00058">58</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="35f04f1f6e7f0965a66b5268eec29b99"></a><!-- doxytag: member="utf16.h::U16_IS_SINGLE" ref="35f04f1f6e7f0965a66b5268eec29b99" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_IS_SINGLE          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;!U_IS_SURROGATE(c)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Does this code unit alone encode a code point (BMP, not a surrogate)? 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>16-bit code unit </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001872">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00050">50</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="c25b589c0c9b60160d357770fad39cea"></a><!-- doxytag: member="utf16.h::U16_IS_SURROGATE" ref="c25b589c0c9b60160d357770fad39cea" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_IS_SURROGATE          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;U_IS_SURROGATE(c)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this code unit a surrogate (U+d800. 
<p>
.U+dfff)? <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>16-bit code unit </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001875">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00074">74</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="6e141a548138e8c24822d219b7e06cb4"></a><!-- doxytag: member="utf16.h::U16_IS_SURROGATE_LEAD" ref="6e141a548138e8c24822d219b7e06cb4" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_IS_SURROGATE_LEAD          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((c)&amp;0x400)==0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Assuming c is a surrogate code point (<a class="el" href="utf16_8h.html#c25b589c0c9b60160d357770fad39cea" title="Is this code unit a surrogate (U+d800.">U16_IS_SURROGATE(c)</a>), is it a lead surrogate? 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>16-bit code unit </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001876">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00083">83</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="fe8d9f450b9297897f018c2f23eb0724"></a><!-- doxytag: member="utf16.h::U16_IS_TRAIL" ref="fe8d9f450b9297897f018c2f23eb0724" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_IS_TRAIL          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(((c)&amp;0xfffffc00)==0xdc00)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Is this code unit a trail surrogate (U+dc00. 
<p>
.U+dfff)? <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>16-bit code unit </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE or FALSE </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001874">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00066">66</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d0e832d06991f5f07a43d68d202165b1"></a><!-- doxytag: member="utf16.h::U16_LEAD" ref="d0e832d06991f5f07a43d68d202165b1" args="(supplementary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_LEAD          </td>
          <td>(</td>
          <td class="paramtype">supplementary&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(UChar)(((supplementary)&gt;&gt;10)+0xd7c0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the lead surrogate (0xd800. 
<p>
.0xdbff) for a supplementary code point (0x10000..0x10ffff). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>supplementary</em>&nbsp;</td><td>32-bit code point (U+10000..U+10ffff) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>lead surrogate (U+d800..U+dbff) for supplementary </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001878">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00113">113</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="dd0a383d49e1ca81e2920d25883a56a9"></a><!-- doxytag: member="utf16.h::U16_LENGTH" ref="dd0a383d49e1ca81e2920d25883a56a9" args="(c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_LENGTH          </td>
          <td>(</td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;((uint32_t)(c)&lt;=0xffff ? 1 : 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
How many 16-bit code units are used to encode this Unicode code point? (1 or 2) The result is not defined if c is not a Unicode code point (U+0000. 
<p>
.U+10ffff). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>32-bit code point </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 or 2 </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001880">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00131">131</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="b14454ab71a81f0cf86e523e50690eee"></a><!-- doxytag: member="utf16.h::U16_MAX_LENGTH" ref="b14454ab71a81f0cf86e523e50690eee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_MAX_LENGTH&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The maximum number of 16-bit code units per Unicode code point (U+0000. 
<p>
.U+10ffff). <dl class="return" compact><dt><b>Returns:</b></dt><dd>2 </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001881">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00138">138</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

<p>Referenced by <a class="el" href="unistr_8h-source.html#l04038">UnicodeString::append()</a>, and <a class="el" href="unistr_8h-source.html#l03800">UnicodeString::replace()</a>.</p>

</div>
</div><p>
<a class="anchor" name="844bb48486904fdca40c8b883e9c80ee"></a><!-- doxytag: member="utf16.h::U16_NEXT" ref="844bb48486904fdca40c8b883e9c80ee" args="(s, i, length, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_NEXT          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">length,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[(i)++]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>(c)) { \
        uint16_t __c2; \
        <span class="keywordflow">if</span>((i)&lt;(length) &amp;&amp; <a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>(__c2=(s)[(i)])) { \
            ++(i); \
            (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((c), __c2); \
        } \
    } \
}
</pre></div>Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary. 
<p>
(Post-incrementing forward iteration.) "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
The offset may point to the lead surrogate unit for a supplementary code point, in which case the macro will read the following trail surrogate as well. If the offset points to a trail surrogate or to a single, unpaired lead surrogate, then that itself will be returned as the code point.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be i&lt;length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>string length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#e98a64ae0f42bc6ad4179293c3638be4" title="Get a code point from a string at a code point boundary offset, and advance the offset...">U16_NEXT_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001885">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00252">252</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e98a64ae0f42bc6ad4179293c3638be4"></a><!-- doxytag: member="utf16.h::U16_NEXT_UNSAFE" ref="e98a64ae0f42bc6ad4179293c3638be4" args="(s, i, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_NEXT_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[(i)++]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>(c)) { \
        (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((c), (s)[(i)++]); \
    } \
}
</pre></div>Get a code point from a string at a code point boundary offset, and advance the offset to the next code point boundary. 
<p>
(Post-incrementing forward iteration.) "Unsafe" macro, assumes well-formed UTF-16.<p>
The offset may point to the lead surrogate unit for a supplementary code point, in which case the macro will read the following trail surrogate as well. If the offset points to a trail surrogate, then that itself will be returned as the code point. The result is undefined if the offset points to a single, unpaired lead surrogate.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#844bb48486904fdca40c8b883e9c80ee" title="Get a code point from a string at a code point boundary offset, and advance the offset...">U16_NEXT</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001884">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00225">225</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="592fa1f80da119e1c4565dc9193c18d9"></a><!-- doxytag: member="utf16.h::U16_PREV" ref="592fa1f80da119e1c4565dc9193c18d9" args="(s, start, i, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_PREV          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[--(i)]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>(c)) { \
        uint16_t __c2; \
        <span class="keywordflow">if</span>((i)&gt;(start) &amp;&amp; <a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>(__c2=(s)[(i)-1])) { \
            --(i); \
            (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>(__c2, (c)); \
        } \
    } \
}
</pre></div>Move the string offset from one code point boundary to the previous one and get the code point between them. 
<p>
(Pre-decrementing backward iteration.) "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
The input offset may be the same as the string length. If the offset is behind a trail surrogate unit for a supplementary code point, then the macro will read the preceding lead surrogate as well. If the offset is behind a lead surrogate or behind a single, unpaired trail surrogate, then that itself will be returned as the code point.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>starting string offset (usually 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be start&lt;i </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#4cccc93c8a8e5d438ff6d0371a7a3937" title="Move the string offset from one code point boundary to the previous one and get the...">U16_PREV_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001895">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00476">476</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="4cccc93c8a8e5d438ff6d0371a7a3937"></a><!-- doxytag: member="utf16.h::U16_PREV_UNSAFE" ref="4cccc93c8a8e5d438ff6d0371a7a3937" args="(s, i, c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_PREV_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">c&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    (c)=(s)[--(i)]; \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>(c)) { \
        (c)=<a class="code" href="utf16_8h.html#c1deffbf1956d9fe696129515e88f006" title="Get a supplementary code point value (U+10000.">U16_GET_SUPPLEMENTARY</a>((s)[--(i)], (c)); \
    } \
}
</pre></div>Move the string offset from one code point boundary to the previous one and get the code point between them. 
<p>
(Pre-decrementing backward iteration.) "Unsafe" macro, assumes well-formed UTF-16.<p>
The input offset may be the same as the string length. If the offset is behind a trail surrogate unit for a supplementary code point, then the macro will read the preceding lead surrogate as well. If the offset is behind a lead surrogate, then that itself will be returned as the code point. The result is undefined if the offset is behind a single, unpaired trail surrogate.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>output UChar32 variable </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#592fa1f80da119e1c4565dc9193c18d9" title="Move the string offset from one code point boundary to the previous one and get the...">U16_PREV</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001894">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00448">448</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="3d5ff64af4bf16cbf9a830743a5c74a4"></a><!-- doxytag: member="utf16.h::U16_SET_CP_LIMIT" ref="3d5ff64af4bf16cbf9a830743a5c74a4" args="(s, start, i, length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_SET_CP_LIMIT          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">length&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>((start)&lt;(i) &amp;&amp; (i)&lt;(length) &amp;&amp; <a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)-1]) &amp;&amp; <a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[i])) { \
        ++(i); \
    } \
}
</pre></div>Adjust a random-access offset to a code point boundary after a code point. 
<p>
If the offset is behind the lead surrogate of a surrogate pair, then the offset is incremented. Otherwise, it is not modified. The input offset may be the same as the string length. "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>starting string offset (usually 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, start&lt;=i&lt;=length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>string length </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#4d3e9ee47d4fdb9fbf93a98ee1248c81" title="Adjust a random-access offset to a code point boundary after a code point.">U16_SET_CP_LIMIT_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001901">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00599">599</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

<p>Referenced by <a class="el" href="unistr_8h-source.html#l03926">UnicodeString::getChar32Limit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="4d3e9ee47d4fdb9fbf93a98ee1248c81"></a><!-- doxytag: member="utf16.h::U16_SET_CP_LIMIT_UNSAFE" ref="4d3e9ee47d4fdb9fbf93a98ee1248c81" args="(s, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_SET_CP_LIMIT_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)-1])) { \
        ++(i); \
    } \
}
</pre></div>Adjust a random-access offset to a code point boundary after a code point. 
<p>
If the offset is behind the lead surrogate of a surrogate pair, then the offset is incremented. Otherwise, it is not modified. The input offset may be the same as the string length. "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#3d5ff64af4bf16cbf9a830743a5c74a4" title="Adjust a random-access offset to a code point boundary after a code point.">U16_SET_CP_LIMIT</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001900">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00578">578</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="31c914801f71204ee90caa6c4d0c3c1b"></a><!-- doxytag: member="utf16.h::U16_SET_CP_START" ref="31c914801f71204ee90caa6c4d0c3c1b" args="(s, start, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_SET_CP_START          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">start,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[i]) &amp;&amp; (i)&gt;(start) &amp;&amp; <a class="code" href="utf16_8h.html#ce839ae31a801fd9c53fa67c5f8b9144" title="Is this code unit a lead surrogate (U+d800.">U16_IS_LEAD</a>((s)[(i)-1])) { \
        --(i); \
    } \
}
</pre></div>Adjust a random-access offset to a code point boundary at the start of a code point. 
<p>
If the offset points to the trail surrogate of a surrogate pair, then the offset is decremented. Otherwise, it is not modified. "Safe" macro, handles unpaired surrogates and checks for string boundaries.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>starting string offset (usually 0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset, must be start&lt;=i </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#de68651cb87ae4cd94cec2d0036ac9c6" title="Adjust a random-access offset to a code point boundary at the start of a code point...">U16_SET_CP_START_UNSAFE</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001893">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00420">420</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

<p>Referenced by <a class="el" href="unistr_8h-source.html#l03916">UnicodeString::getChar32Start()</a>.</p>

</div>
</div><p>
<a class="anchor" name="de68651cb87ae4cd94cec2d0036ac9c6"></a><!-- doxytag: member="utf16.h::U16_SET_CP_START_UNSAFE" ref="de68651cb87ae4cd94cec2d0036ac9c6" args="(s, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_SET_CP_START_UNSAFE          </td>
          <td>(</td>
          <td class="paramtype">s,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">{ \
    <span class="keywordflow">if</span>(<a class="code" href="utf16_8h.html#fe8d9f450b9297897f018c2f23eb0724" title="Is this code unit a trail surrogate (U+dc00.">U16_IS_TRAIL</a>((s)[i])) { \
        --(i); \
    } \
}
</pre></div>Adjust a random-access offset to a code point boundary at the start of a code point. 
<p>
If the offset points to the trail surrogate of a surrogate pair, then the offset is decremented. Otherwise, it is not modified. "Unsafe" macro, assumes well-formed UTF-16.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>const UChar * string </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>i</em>&nbsp;</td><td>string offset </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="utf16_8h.html#31c914801f71204ee90caa6c4d0c3c1b" title="Adjust a random-access offset to a code point boundary at the start of a code point...">U16_SET_CP_START</a> </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001892">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00400">400</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="5b15d2eeb271d0a6d92c854681ebaf20"></a><!-- doxytag: member="utf16.h::U16_SURROGATE_OFFSET" ref="5b15d2eeb271d0a6d92c854681ebaf20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_SURROGATE_OFFSET&nbsp;&nbsp;&nbsp;((0xd800&lt;&lt;10UL)+0xdc00-0x10000)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper constant for U16_GET_SUPPLEMENTARY. 
<p>
<dl compact><dt><b><a class="el" href="internal.html#_internal000069">Internal:</a></b></dt><dd>Do not use. This API is for interal use only. </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00089">89</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf0698cf645946911b2e10d3ab890321"></a><!-- doxytag: member="utf16.h::U16_TRAIL" ref="bf0698cf645946911b2e10d3ab890321" args="(supplementary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define U16_TRAIL          </td>
          <td>(</td>
          <td class="paramtype">supplementary&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">&nbsp;&nbsp;&nbsp;(UChar)(((supplementary)&amp;0x3ff)|0xdc00)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the trail surrogate (0xdc00. 
<p>
.0xdfff) for a supplementary code point (0x10000..0x10ffff). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>supplementary</em>&nbsp;</td><td>32-bit code point (U+10000..U+10ffff) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>trail surrogate (U+dc00..U+dfff) for supplementary </dd></dl>
<dl compact><dt><b><a class="el" href="stable.html#_stable001879">Stable:</a></b></dt><dd>ICU 2.4 </dd></dl>

<p>Definition at line <a class="el" href="utf16_8h-source.html#l00122">122</a> of file <a class="el" href="utf16_8h-source.html">utf16.h</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 28 17:50:06 2008 for ICU 3.8 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
