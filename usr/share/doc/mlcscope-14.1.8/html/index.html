<HTML>
<HEAD>
<TITLE>
Lucent cscope - home page
</TITLE>
<BODY>
<H2>
Lucent cscope home page
</H2>
<P>
<b>CSCOPE</b> is the original C program browser for UNIX.
<P>
It provides the ability to answer "scoping" questions, like:
<UL>
<LI>
Where is this symbol used?
<LI>
Where is it defined?
<LI>
Where did this variable get its value?
<LI>
What is this global symbol's definition?
<LI>
Where is this function in the source files?
<LI>
What functions call this function?
<LI>
What functions are called by this function?
<LI>
Where does the message "out of space" come from?
<LI>
Where is this source file in the directory structure?
<LI>
What files include this header file?
</UL>
<P>
<b>CSCOPE</b> answers these questions from a symbol database that it builds
the first time it is called on the source files.
On a subsequent call, <b>CSCOPE</b> rebuilds the database only if a source
file has changed or if the list of source files is different. 
When the database is built the data for the unchanged files is copied from
the old database, which makes rebuilding much faster than the initial build.
<P>
After the database is ready <b>CSCOPE</b> will display these input fields:
<UL>
<LI>
Find this C symbol:
<LI>
Find this definition:
<LI>
Find functions called by this function:
<LI>
Find functions calling this function:
<LI>
Find assignments to:
<LI>
Change this grep pattern:
<LI>
Find this egrep pattern:
<LI>
Find this file:
<LI>
Find files #including this file:
</UL>
<P>
Press the <b>TAB</b> key repeatedly to move to the desired input field,
type the pattern to search for, and then press the <b>RETURN</b> key.
For the first 5 and last 2 input fields, the pattern can be a regcmp(3X) 
regular expression.
If the search is successful, you can use these command characters:
<UL>
<LI>
1-9    Edit the file containing the displayed line.
<LI>
space  Display next lines.
<LI>
+      Display next lines.
<LI>
-      Display previous lines.
<LI>
^E     Edit all lines.
<LI>
>      Write all lines to a file.
<LI>
>>     Append all lines to a file.
<LI>
<      Read lines from a file.
<LI>
^      Filter all lines through a shell command.
<LI>
|      Pipe all lines to a shell command.
</UL>
<P>
At any time you can use these command characters:
<UL>
<LI>
^P     Move to the previous input field.
<LI>
^A     Search again with the last pattern typed.
<LI>
^B     Recall previous input field and search pattern.
<LI>
^F     Recall next input field and search pattern.
<LI>
^C     Toggle ignore/use letter case when searching.
<LI>
^R     Rebuild the symbol database.
<LI>
!      Start an interactive shell (type ^D to return to cscope).
<LI>
^L     Redraw the screen.
<LI>
?      Display this list of commands.
<LI>
^D     Exit cscope.
</UL>
<P>
To use <b>CSCOPE</b> on all source files in the current directory just type:
<UL>
<LI>
cscope
</UL>
<P>
Alternatively you can provide a list of source files by typing:
<UL>
<LI>
find . -name -name '*.[chlyCGHL]' -print >cscope.files
<LI>
cscope -b
<LI>
cscope -d
</UL>
The separate build and access options are shown above.
<P>
To support large databases, which would make symbol searches slower, type:
<UL>
<LI>
cscope -b -q
<LI>
cscope -d
</UL>
This builds a <b>SLIMMER</b> inverted index for fast symbol searching.
<P>
To use <b>CSCOPE</b> with compressed databases, type:
<UL>
<LI>
cscope -b
<LI>
gzip cscope.out
<LI>
cscope -d
</UL>
This is aimed at large centralised database support, where access is provided
to compressed databases. 
As such, <b>CSCOPE</b> will uncompress the database into a temporary directory
and access it.
If the database is already uncompressed in the temporary directory, it will 
just access it directly.
This improves access time across multiple users of a large compressed database.
<P>
<b>MLCSCOPE</b> parses source files written in multiple languages at the same
time, based on the file suffix.
You can override the file suffix using the multi-lingual option:
<UL>
<LI>
mlcscope -b -m java
</UL>
<P>
The <b>CSCOPE</b> database provides more information than is accessible from
the simple questions used by the normal menu.
To emulate the <b>CCALLS</b> tool, an extended menu is available with the
following input fields:
<UL>
<LI>
Find this type definition:
<LI>
Find this preprocessor definition:
<LI>
Find parameters of this function:
<LI>
Find functions calling this function:
<LI>
Find this global definition:
<LI>
Find this local definition:
<LI>
Find this structure definition:
<LI>
Find this file:
<LI>
Find this preprocessor include:
</UL>
To use these fields, type:
<UL>
<LI>
cscope -d -x c
</UL>
These is also a <b>CSCALLS</b> script to run the <b>CSCOPE</b> <b>CCALLS</b>.
<P>
To use an editor with <b>CSCOPE</b>, it must support the +linenum option, e.g.
<UL>
<LI>
VIEWER=vim
<LI>
cscope -d
<LI>
Editing files runs "vim +linenum file"
</UL>
<P>
<UL>
<LI>
<b>CSCOPE</b> was written by Joe Steffen.
<LI>
<b>MLCSCOPE</b> was written by Mark Skeates.
<LI>
Compressed database additions were written by Dave Trollope.
<LI>
Ccalls emulation was written by Mark Skeates.
</UL>
<P>
<b>CSCOPE</b> and <b>MLCSCOPE</b> are both available from the 
<A HREF="http://www.bell-labs.com/project/wwexptools">WWEXPTOOLS</A> 
web site.
<P>
<b>CSCOPE</b> has some older variants available publicly, which 
originated within Lucent (or AT&T prior to the divestiture), when  
<b>CSCOPE</b> was submitted to <b>UNIX</b>, when this was owned by AT&T. 
This early version was sold of as part of UNIX System Labs, which was bought
by Santa Cruz Operation and subsequently released as Open Source.
As such, version 11.4 was enhanced as Open Source and renamed as version 15.
However, Lucent <b>CSCOPE</b> progressed within AT&T and Lucent over the past
15 years, as version 12 and 13 and has significantly more functionality 
through its use over many years. 
<b>MLCSCOPE</b> was created to adapt <b>CSCOPE</b> to a Multi-Lingual approach
and providing <b>JAVA</b> support.
<P>
The public version of <b>CSCOPE</b> is available from 
<A HREF="http://cscope.sourceforge.net">SourceForge</A>.
<P>
Implementation notes:
<P>
Within Lucent, <b>CSCOPE</b> was modified to be very tolerant of a mixture
of source files.
However, the <b>LEX</b> scanner is so highly tuned that it is rarely
productive to change it now, without having other impacts.
This was also part of the motivation towards writing <b>MLCSCOPE</b> which
uses a separate <b>FLEX</b> scanner for each language, thus separating the
concerns.
<P>
The source for <b>CSCOPE</b> is version 13.
The <b>MULTILINGUAL</b> preprocessor define is used for <b>MLCSCOPE</b> 
which is version 14.
<P>
<b>CSCOPE</b> can be compiled for <b>DOS</b> or <b>WINDOWS</b> by using the
<b>PDCURSES</b> package. See the notes.win32 file.
<P>
<UL>
<LI>
Copyright: <a href=../sources/cscopesrc/COPYING>Lucent Public License</a>.
<LI>
Documentation: <a href=cscope.html>cscope man page</a>, 
<a href=mlcscope.html>mlcscope man page</a>, 
<a href=cscalls.html>cscalls man page</a>.
<LI>
Download: <a href=/cgi-user/wwexptools/gensnapshot?cscope>source and binaries</a>.
<LI>
News: <a href=../binaries/sparc-sun-solaris/lib/toolnews/cscope>cscope toolnews</a>.
</UL>
<HR>
<ADDRESS>
<SMALL>
Mark Skeates
<BR>
Lucent Technologies UK
<BR>
<A HREF="mailto:mskeates@lucent.com">mskeates@lucent.com</A>
</SMALL>
</ADDRESS>
</BODY>
